<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Add Profile |  Lucas Legal</title>  

<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="css/bootstrap.min.css">
 <script src="./js/global.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="css/custom-style.css">
<link rel="stylesheet" href="css/themify-icons.css">
<link rel="stylesheet" href="css/jQueryTab.css" type="text/css" media="screen" />
<link rel="stylesheet" href="css/animation.css" type="text/css" media="screen" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="css/datepicker.css">
<link rel="stylesheet" href="css/responsive.css" type="text/css">
<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 8]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

<!-- Font CSS -->
<link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>
</head>

<body>
<div class="container-fluid">
<div class="HeaderWrap">
	    	<div class="LogoCon">
   	    	<a href="index.html"><img src="./images/logo-img.png" alt="" /></a>
        </div>
        <nav class="menu">
        <div id="cssmenu">
      <div id="head-mobile">
        <ul>
        
            	<li><a href="#"><span class="ti-search"></span></a></li>
                <!--<li><a data-toggle="modal" data-target="#Modal-login" href="#"><span class="ti-user"></span></a></li>-->
                <li><a href="#"><span class="ti-user"></span></a>
                <ul>
                <li>Welcome to John Smith</li>
                        <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a>
                        </li>
                        <li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
                        </li>                        
                        <li><a href="#"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                        </li>
                    </ul>
                </li>
                <li><a href="#"><span class="ti-comments"></span></a></li>
        </ul>
      </div>
      <div class="button"></div>
      <ul>
            <li><a href="#">Library & Store</a></li>
                <li><a href="#">Archive</a></li>
            	<li class="hidden-xs"><a href="#"><span class="ti-search"></span></a></li>
                <!--<li class="hidden-xs"><a data-toggle="modal" data-target="#Modal-login" href="#"><span class="ti-user"></span></a></li>-->
                <li class="hidden-xs"><a href="#"><span class="ti-user"></span></a>
                <ul>
               
                        <li>Welcome to John Smith</li>
                        <li><a href="#"><i class="fa fa-user fa-fw"></i> User Profile</a></li>
                        <li><a href="#"><i class="fa fa-gear fa-fw"></i> Settings</a>
                        </li>                        
                        <li><a href="#"><i class="fa fa-sign-out fa-fw"></i> Logout</a>
                        </li>
                    </ul>
                </li>
                <li class="hidden-xs"><a href="#"><span class="ti-comments"></span></a></li>
            </ul>
    </div>
        	
        </nav>
</div></div>
<div class="container-fluid SubPageWrap">
  <div class="container">
    <div class="row SubPageInn">
      <div class="col-lg-9">
        <div class="col-lg-4">
        <div class="ProfImg">
         <img src="images/profile.png" id="picSrc"/> 
         </div> </div>
        <div class="col-lg-8" >
        <div class="form-group" id="uploadMsg"></div>
        <form id="uploadForm" method="post" enctype="multipart/form-data">	
          <label class="control-label">Select File</label>
          <input id="inputmypic" type="file" class="file" name="uploadedFile" accept=".jpeg" />
          <input type="button" value="Upload" id="uploadbutton"/>		   
        </form>  
        </div>
        <div class="col-lg-12 ProfDetails AddProf">
          <div class="row">
            <form role="form">
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APName">First Name</label>
                  <input type="text" class="form-control" id="APName" placeholder="First name">
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APLastN">Last name</label>
                  <input type="text" class="form-control" id="APLastN" placeholder="Last name">
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APContactNo">Contact No</label>
                  <input type="text" class="form-control" id="APContactNo" placeholder="Contact No">
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APContactNo">Email</label>
                  <input type="email" class="form-control" id="APContactEmail" placeholder="Email">
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APMaritalSta">Marital Status</label>
                  <select class="form-control" id="APMaritalSta">
                    <option value="0">Select</option>
                  
                  </select>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APMdate">Date of Marriage Anniversary</label>
                  <input  type="text" placeholder="Date of Marriage Anniversary" class="form-control"  id="APMdate">
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APNation">Nationality</label>
                  <input type="text" class="form-control" id="APNation" placeholder="Nationality">
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APIncomePan">Income Tax PAN</label>
                  <input type="text" class="form-control" id="APIncomePan" placeholder="Income Tax PAN">
                </div>
              </div>
              <div class="col-lg-12">
                <div class="FormTitle">Residential Address</div>
                <div class="row">
                  <div class="form-group col-lg-6">
                    <label for="APresiAddress1">Address Line 1</label>
                    <input type="text" id="APresiAddress1" cols="" class="form-control" rows="">
                    </textarea>
                  </div>
                  <div class="form-group col-lg-6">
                    <label for="APresiAddress2">Address Line 2</label>
                    <input type="text" id="APresiAddress2" cols="" class="form-control" rows="">
                    </textarea>
                  </div>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APState">State</label>
                  <select class="form-control" id="APState">
                    <option value="0">Select</option>
                   
                  </select>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APDistrict">District</label>
                  <select class="form-control" id="APDistrict">
                    <option value="0">Select</option>
                   
                  </select>
                </div>
              </div>
              
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APtw">Town / Village</label>
                  <select class="form-control" id="APtw">
                    <option value="0">Option</option>
                    
                  </select>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APPincode">Pin Code</label>
                  <input type="text" class="form-control" id="APPincode" placeholder="">
                </div>
              </div>
              <div class="col-lg-12">
                <div class="FormTitle">Specializations</div>
                <div class="table-responsive">
                  <table id="specializationTable" border="0" cellpadding="0" cellspacing="0" class="table table-bordered">
                    <thead>
                     <th>Name</th>
                      <th>Description</th>
                   
                        </thead>
                    <tbody>
                      <tr>
                        <td><input type="text" class="form-control" id="" placeholder="Name"></td>
                        <td><textarea class="form-control" placeholder="Description"></textarea></td>
                        </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              
              <div class="col-lg-12">
                <div class="FormTitle">Categories</div>
             
                <div class="col-lg-6">
                <div class="form-group">
                  <label for="APCat">Category</label>
                  <select class="form-control" id="APCat">
                    <option value="0">Select</option>
                   
                  </select>
                </div>
              </div>
              <div class="col-lg-6">
                <div class="form-group">
                  <label for="APSubCat" >Sub Category</label>
                  <select class="form-control" id="APSubCat" multiple>
                    <option value="0">Select</option>                  
                  </select>
                </div>
              </div>               
              </div>
              
              <div class="col-lg-12">		
	                <div class="FormTitle">Publication</div>		
	                <div class="table-responsive">		
	                  <table id="publicationTable" border="0" cellpadding="0" cellspacing="0" class="table table-bordered">		
	                    <thead>		
	                     <th>Name</th>                    		
	                      <th>Description</th>		
	                      		
	                        </thead>		
	                    <tbody>		
	                      <tr>		
	                        <td><input type="text" class="form-control" id="" placeholder="Name"></td>                       		
	                        <td><textarea class="form-control" placeholder="Description"></textarea></td>			                        		
	                      </tr>			                      		
	                    </tbody>		
	                  </table>		
	                </div>		
	              </div>
	              
              <div class="col-lg-12">		              
	                <div class="FormTitle">Presentation</div>		
	                <div class="table-responsive">		
	                  <table id="presentationTable" border="0" cellpadding="0" cellspacing="0" class="table table-bordered">		
	                    <thead>		
	                     <th>Name</th>                    		
	                      <th>Description</th>		
	                      		
	                        </thead>		
	                    <tbody>		
	                      <tr>		
	                        <td><input type="text" class="form-control" id="" placeholder="Name"></td>                       		
	                        <td><textarea class="form-control" placeholder="Description"></textarea></td>		
	                        		
	                      </tr>		
	                      		
	                    </tbody>		
	                  </table>		
	                </div>		
	              </div>
              <div class="col-lg-12">
                <div class="FormTitle">Achievements</div>
                <div class="table-responsive">
                  <table id="acheivementsTable" border="0" cellpadding="0" cellspacing="0" class="table table-bordered">
                    <thead>
                     <th>Name</th>                    
                      <th>Description</th>
                      <th>Year</th>
                        </thead>
                    <tbody>
                      <tr>
                        <td><input type="text" class="form-control" id="" placeholder="Name"></td>                       
                        <td><textarea class="form-control" placeholder="Description"></textarea></td>
                         <td><select class="form-control">
                        <option>Select Year</option>
                        <option>2016</option>
                        </select></td>
                      </tr>
                      
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="col-lg-12">
                <div class="FormTitle">Experience</div>
                <div class="table-responsive">
                  <table id="experienceTable" border="0" cellpadding="0" cellspacing="0" class="table table-bordered">
                    <thead>
                    <th>From</th>
                      <th>To</th>
                      <th>Description</th>
                        </thead>
                    <tbody>
                      <tr>
                        <td><input  type="text" placeholder="From" class="form-control"  id="experienceFrom"></td>
                        <td><input  type="text" placeholder="To" class="form-control"  id="experienceTo"></td>
                        <td><textarea class="form-control" placeholder="Description"></textarea></td>
                      </tr>
                      
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="col-lg-12">
                <div class="FormTitle">Qualification / Academics / Education</div>
                <div class="table-responsive">
                  <table id="qualificationTable" border="0" cellpadding="0" cellspacing="0" class="table table-bordered">
                    <thead>
                    <th>Name</th>
                    <th>Description</th>
                      <th>Institute / University</th>
                      <th>Year</th>
                        </thead>
                    <tbody>
                      <tr>
                        <td><input type="text" class="form-control" id="" placeholder="Name"></td>
                        <td><textarea class="form-control" placeholder="Description"></textarea></td>
                        <td><input type="text" class="form-control" id="" placeholder="Institute / University"></td>
                        <td><select class="form-control">
                        <option>Select Year</option>
                        <option>2016</option>
                        </select></td>                        
                      </tr>
                      
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="col-lg-12">
                <div class="FormTitle">Registration / Membership</div>
                <div class="table-responsive">
                  <table id="registeredMemNosTable" border="0" cellpadding="0" cellspacing="0" class="table table-bordered">
                    <thead>
                        <th>Registration / Membership No</th>
                        <th>Registration / Membership Type</th>
                        <th>Registering Council / Association / Authority</th>
                        <th width="70">Year</th>
                        </thead>
                    <tbody>
                      <tr>
                        <td><input type="text" class="form-control" id="" placeholder="Registration / Membership No"></td>
                        <td><input type="text" class="form-control" id="" placeholder="Registration / Membership Type"></td>
                        <td><input type="text" class="form-control" id="" placeholder="Registering Council / Association / Authority"></td>  
                        <td><select class="form-control">		                        
	                        <option>Select Year</option>		
	                        <option>2016</option>		
	                        </select>		
	                        </td>
                      </tr>
                      
                    </tbody>
                  </table>
                </div>
              </div>
    <div class="col-lg-12">		              
	              <div class="form-group">		
	              <label><input id="emailCheck" type="checkbox" name="email" /> Do you want to recived E-mail</label>		
	              </div>		
	              <div class="form-group">		
	              <label><input id="smsCheck" type="checkbox" name="sms" /> Do you want to recived SMS</label>		
	              </div>		
	              </div>          
                         
              <div class="col-lg-12">
                <button id="profInfoButton" type="button" class="btn btn-default SubmitProfInfo">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>
      
    </div>
  </div>
</div>
<div class="container-fluid FooterWrap">
 
    <div class="container">
      <div class="row">
        <div class="col-lg-6">
          <h1>About</h1>
          <ul class="col-lg-6">
            <li><a href="#"><i class="fa fa-caret-right"></i> About us</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> Press & Media</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> Careers</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> Testimonials</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> Blog</a></li>
          </ul>
          <ul class="col-lg-6">
            <li><a href="#"><i class="fa fa-caret-right"></i> Privacy Policy</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> Terms & Conditions</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> FAQ</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> Associate with us</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> Contact us</a></li>
          </ul>
        </div>
        <div class="col-lg-3">
          <h1>Services</h1>
          <ul>
            <li><a href="#"><i class="fa fa-caret-right"></i> Chat with a Professional</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> Call a Professional</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> Book an appointment</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> Library & Store</a></li>
            <li><a href="#"><i class="fa fa-caret-right"></i> Archive</a></li>
          </ul>
        </div>
        <div class="col-lg-3">
          <h1>Follows us on</h1>
          <ul class="SocialFootMenu">
            <li class="FbIcon"><a href="#"><i class="fa fa-facebook"></i> Facebook</a></li>
            <li class="TIcon"><a href="#"><i class="fa fa-twitter"></i> Twitter</a></li>
            <li class="GpIcon"><a href="#"><i class="fa fa-google-plus"></i> Google Plus</a></li>
            <li class="YtIcon"><a href="#"><i class="fa fa-youtube"></i> You Tube</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  <div class="CopyTxt"> Copyright &copy; 2016 Company Name Private Limited. All rights reserved. </div>




<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> 

<!-- Latest compiled and minified JavaScript -->
<script src="./js/bootstrap.min.js"></script>
<script src="./js/script.js"></script>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
<!--<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script> 
<script src="js/jquery.cookie.js" type="text/javascript"></script> --> 
<strong><script src="js/jQueryTab.js"></script></strong> 
<script src="js/bootstrap-datepicker.js"></script> 

<!-- jQuery multiselect --> 
<script>
var jsonList;
function getParameterByName(name) {
    url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}
    $(document).ready(function(){
	 if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) { 
	 $("#div_phone").html('<a href="tel:+1800 12 34 56 78"><i class="fa fa-phone"></i></a>');}
	$('#otp_div').hide();
	$('#newpass_div').hide();
	$('#opt_veriy').hide();
	//alert( $.cookie("user_type") );
var recordId = getParameterByName('recordId');
	$.ajax({type: "GET",
        url: globalIP+"/getUserDetails",
       data:{"user_id": recordId},
        datatype : "application/json",
        success:function(result){
        	$("#APName").val(result.userFirstName);
        	$("#APLastN").val(result.userLastName);
        	$("#APContactNo").val(result.userContact);
        	$("#APContactEmail").val(result.email);
        }
        	});
	
    $("#profInfoButton").click(function(e){
  	  e.preventDefault();
		 
		  var params = {};
		  //params.recordId=
		  params.profFirstName=$("#APName").val();
			  //params.profMiddleName=
			  params.profLastName=$("#APLastN").val();
			  //params.profEmpId=
			  //params.profDob=
			  //params.profGender=
			  params.profNationality=$("#APNation").val();	
			  params.profPan=$("#APIncomePan").val();
			  params.profMeritalStatus=$("#APMaritalSta").val();
			  params.profMerriageAnniversary=$("#APMdate").val();
                        if($("#smsCheck").is(":checked")){
			  params.dndActivatedFlag=0;
                        }else{
                        params.dndActivatedFlag=1;
                        }
                 if($("#emailCheck").is(":checked")){
                  params.emailStatus="true";
                 }else{
                  params.emailStatus="false";
                 }
                 params.status=$("#user_status").val();
			  //params.profSignature=			  
			  //params.profFees=
			  //params.profRemark=
			 // params.status=	
			  //params.createdBy=

		  var contact={};
		  //contact.contactType=
		  contact.contactPhone=$("#APContactNo").val();
		  contact.contactEmail=$("#APContactEmail").val();
                contact.activeStatus=1;
	          params.contact=contact;

		  var address={};
		  //address.locationId=
		  //address.otherArea=
		  address.line1=$("#APresiAddress1").val();
		  address.line2=$("#APresiAddress2").val();
		  address.pinCode=$("#APPincode").val();
                address.activeStatus=1;
		  params.address=address;

                var specializationList = [];
                $("#specializationTable tr").each(function (index) { 
                if(index !== 0){
                 var item={};
                  item ["profSpecName"] =$(this).find("td:eq(0) input").val();
                  item ["profSpecDesc"] =$(this).find("td:eq(1) input").val();
                  item ["activeStatus"] =1;
                  specializationList.push(item);                   
                 } 
                });
                params.specializationList=specializationList;

		  var qualificationList = [];
                $("#qualificationTable tr").each(function (index) { 
                if(index !== 0){
                 var item={};
                  item ["profAcdmcName"] =$(this).find("td:eq(0) input").val();
                  item ["profAcdmcDesc"] =$(this).find("td:eq(1) input").val();
                  item ["profAcdmcUniversity"] =$(this).find("td:eq(2) input").val();
                  item ["profAcdmcPassYear"] =$(this).find("td:eq(3) select").val();
                  item ["activeStatus"] =1;
                  qualificationList.push(item);                   
                 } 
                });
                params.qualificationList=qualificationList;

                var experienceList = [];
                $("#experienceTable tr").each(function (index) { 
                if(index !== 0){
                 var item={};
                  item ["profExpBeginDt"] =$(this).find("td:eq(0) input").val();
                  item ["profExpEndDt"] =$(this).find("td:eq(1) input").val();
                  item ["profExpDesc"] =$(this).find("td:eq(2) input").val();                  
                  item ["activeStatus"] =1;
                  experienceList.push(item);                   
                 } 
                });
                params.experienceList=experienceList;

                var acheivements = [];
                $("#acheivementsTable tr").each(function (index) { 
                if(index !== 0){
                 var item={};                   
                  item ["profAchvName"] =$(this).find("td:eq(0) input").val();
                  item ["profAchvDesc"] =$(this).find("td:eq(1) input").val();
                  item ["profAchvYear"] =$(this).find("td:eq(2) select").val();                  
                  item ["activeStatus"] =1;
                  acheivements.push(item);                   
                 } 
                });
                params.acheivements=acheivements;

                var registeredMemNos = [];
                $("#registeredMemNosTable tr").each(function (index) { 
                if(index !== 0){
                 var item={};                 
                  item ["regMemType"] =$(this).find("td:eq(1) input").val();
                  item ["regAuth"] =$(this).find("td:eq(2) input").val();
                  item ["regYear"] =$(this).find("td:eq(3) select").val();                  
                  item ["activeStatus"] =1;
                  registeredMemNos.push(item);                   
                 } 
                });
                params.registeredMemNos=registeredMemNos;

                var lstSubCategoryId=[];
                $.each($("#APSubCat").val(), function( index, value ) {                
                lstSubCategoryId.push(parseInt(value));
                });
                params.lstSubCategoryId=lstSubCategoryId;

                var lstProfPublication = [];
                $("#publicationTable tr").each(function (index) { 
                if(index !== 0){  
                 var item={};                 
                  item ["profPublicationName"] =$(this).find("td:eq(0) input").val();                                    
                   
                var lstPublicationDetails=[];
                var item1={};
                item1["publicationDesc"] =$(this).find("td:eq(1) textarea").val(); 
                 lstPublicationDetails.push(item1);
                 item ["lstPublicationDetails"] =lstPublicationDetails; 
                  item ["activeStatus"] =1; 
                  lstProfPublication.push(item);                   
                 } 
                });
                params.lstProfPublication=lstProfPublication;

                var lstProfPresentation = [];
                $("#presentationTable tr").each(function (index) { 
                if(index !== 0){  
                 var item={};                 
                  item ["profPresentationName"] =$(this).find("td:eq(0) input").val();                                    
                   
                var lstPresentationDesc=[];
                var item1={};
                item1["presentationDesc"] =$(this).find("td:eq(1) textarea").val(); 
                 lstPresentationDesc.push(item1);
                 item ["lstPresentationDesc"] =lstPresentationDesc; 
                  item ["activeStatus"] =1; 
                  lstProfPresentation.push(item);                   
                 } 
                });
                params.lstProfPresentation=lstProfPresentation;

		  alert(JSON.stringify(params));
              
	        $.ajax({
              type: "POST",             
              url: globalIP +"/professional/saveProfile",
              
              data: JSON.stringify(params),
              contentType: "application/json",
	        dataType: "application/json",
              success:function(data){
				alert(data);				
              }
             });

            });  
    
	function hide_mobile()
	{
		$('#or_div').hide();
		$('#mobile_div').hide();
	}
	
	function hide_email()
	{
		$('#or_div').hide();
		$('#email_div').hide();
	}
	
	 $.getJSON(globalIP+"/professional/addProfile", function(result){
		
		 jsonList = result;
		 
		 $("#user_status").val(result.paramId);
		 
		   $.each(jsonList.maritalStatus, function(i, field){
              $("#APMaritalSta").append("<option value="+field.parameterid +">"+field.value+"</option>");
            });
		
		   
		   //outer list for country
		   $.each(result.locations, function(i, field){
			
			   //iterating over country for states in childLocations
			   $.each(field.childLocations, function(i, fieldValue){
				 
	              if (fieldValue.locationType === 4) //appending states
	            	  {
	            	      $("#APState").append("<option value="+fieldValue.locationId +">"+fieldValue.locationName+"</option>");
	            	  }
	              
	         
	        	  /* if (fieldValue.hasOwnProperty('childLocations')) // to check weather states has districts
	            	{
	                     $.each(fieldValue.childLocations, function(i, district){
	                       if (district.locationType === 5)
	            	          {
	            	            $("#APDistrict").append("<option value="+district.locationId +">"+district.locationName+"</option>");
	            	          }
	                       

	    	        	   if (district.hasOwnProperty('childLocations')) // to check weather district has cities or areas
	    	        		   {
	    	        		     $.each(district.childLocations, function(i, city){
	    	                         if (city.locationType === 6 || city.locationType === 7 )
	    	            	            {
	    	            	               $("#APtw").append("<option value="+city.locationId +">"+city.locationName+"</option>");
	    	            	             }
	    	        		         }); 
	    	        		   }
	                       
	                      }); 
	                  }*/
	            
	            
	             }); 
			   
             });
		   
		   $.each(result.categories, function(i, field){
	              $("#APCat").append("<option value="+field.catId +">"+field.displayName+"</option>");
	              
	             /* if (field.hasOwnProperty('subCategoryList')) // to check weather district has cities or areas
       		           {
       		               $.each(field.subCategoryList, function(i, subCat){
                              
           	                     $("#APSubCat").append("<option value="+subCat.subCatId +">"+subCat.displayName+"</option>");
           	                      
       		               }); 
       		           }*/
	           });
		   
      });

	
	 
	 $("#APCat").change(function(e){
		 var catId = $(this).val();
		 $("#APSubCat").empty();
		 $("#APSubCat").append("<option value=0>Select</option>"); //added by abhidip on 5th february, 2016
		  $.each(jsonList.categories, function(i, field){
			
			  if (field.catId == catId) 
				  {
				  
                    if (field.hasOwnProperty('subCategoryList')) // to check weather district has cities or areas
   		                {
                    	 $.each(field.subCategoryList, function(i, subCat){
                             $("#APSubCat").append("<option value="+subCat.subCatId +">"+subCat.displayName+"</option>");
       	                  }); 
            		    }
   		           }
           });
	});
	 
	 
	 
	 $("#APState").change(function(e){
		 var stateId = $(this).val();
		   $("#APDistrict").empty();
		   $("#APtw").empty();
		   $("#APDistrict").append("<option value=0>Select</option>"); 
		   $("#APtw").append("<option value=0>Select</option>"); //added by abhidip on 5th february, 2016
		   
		     $.each(jsonList.locations, function(i, field){
			   if (field.hasOwnProperty('childLocations')) 
				   {   
				   
				     $.each(field.childLocations, function(i, states){
                          
				    	 if(states.locationId == stateId) {
				    		 
				    		 if (states.hasOwnProperty('childLocations')) {
				    			
				    			 $.each(states.childLocations, function(i, district){
				    				 $("#APDistrict").append("<option value="+district.locationId +">"+district.locationName+"</option>");
		       	                  });
				    			  
				    		 }
				    	 }
				    	 
 	                  }); 
				      
				   }
			   
           });   
		 
     });

	 

	 $("#APDistrict").change(function(e){
		 var distId = $(this).val();
		   $("#APtw").empty();
		   $("#APtw").append("<option value=0>Select</option>"); //added by abhidip on 5th february, 2016
		     $.each(jsonList.locations, function(i, field){
			    if (field.hasOwnProperty('childLocations')) 
				   {   
				   
				     $.each(field.childLocations, function(i, states){
             	    		 
				    		 if (states.hasOwnProperty('childLocations')) {
				    			
				    			 $.each(states.childLocations, function(i, district){
				    				 
				    				 if (district.locationId == distId) {
				    					 
				    					 if (district.hasOwnProperty('childLocations')) {
				    						 
				    						 $.each(district.childLocations, function(i, city){
							    				 $("#APtw").append("<option value="+city.locationId +">"+city.locationName+"</option>");
					       	                  });
				    						 
				    						 
				    					 }
				    					 
				    				 }
				    				 
				    				 
		       	                  });
				    			  
				    		 }
				    	 
				    	 
	                  }); 
				      
				   }
			   
         });   
		 
   });
   
   
   
	
	 
    </script> 
<script type="text/javascript">
// initializing jQueryTab plugin 
$('.tabs-1').jQueryTab({
    initialTab:1,				// tab to open initially; start count at 1 not 0
    tabInTransition: 'fadeIn',
    tabOutTransition: 'fadeOut',
    //cookieName: 'active-tab-1',
    tabPosition : 'top'
});
</script> 
<script>
$(document).ready(function() {
    // Configure/customize these variables.
    var showChar = 500;  // How many characters are shown by default
    var ellipsestext = "...";
    var moretext = "more";
    var lesstext = "less";
    

    $('.more').each(function() {
        var content = $(this).html();
 
        if(content.length > showChar) {
 
            var c = content.substr(0, showChar);
            var h = content.substr(showChar, content.length - showChar);
 
            var html = c + '<span class="moreellipses">' + ellipsestext+ '&nbsp;</span><span class="morecontent"><span>' + h + '</span>&nbsp;&nbsp;<a href="" class="morelink">' + moretext + '</a></span>';
 
            $(this).html(html);
        }
 
    });
 
    $(".morelink").click(function(){
        if($(this).hasClass("less")) {
            $(this).removeClass("less");
            $(this).html(moretext);
        } else {
            $(this).addClass("less");
            $(this).html(lesstext);
        }
        $(this).parent().prev().toggle();
        $(this).prev().toggle();
        return false;
    });
});
</script> 
<script type="text/javascript">
	// When the document is ready
	$(document).ready(function () {
		
		$('#APMdate').datepicker({
			format: "dd/mm/yyyy"
		});  
		 $('#experienceFrom').datepicker({
				format: "dd/mm/yyyy"
			});  
	                $('#experienceTo').datepicker({
				format: "dd/mm/yyyy"
			});  
	
	});
	
	
	function getParameterByName(name) {
	    url = window.location.href;
	    name = name.replace(/[\[\]]/g, "\\$&");
	    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
	        results = regex.exec(url);
	    if (!results) return null;
	    if (!results[2]) return '';
	    return decodeURIComponent(results[2].replace(/\+/g, " "));
	}
	
	$("#uploadbutton").on("click", function() {
		var formData = new FormData($('#uploadForm')[0]);
		formData.append('recordId', getParameterByName('recordId'));
		alert(globalIP+"/uploadPhoto");
		$.ajax({
		    url: globalIP+"/uploadPhoto",
		    data: formData,
		    type: "POST",
		    dataType: 'text',
		    contentType: false,
		    processData: false,
		    cache: false,
		    success: function(response) {
		    	//console.log(response);
		    	response=JSON.parse(response);
		        	$('#uploadMsg').html(response.result);
		        if(response.result=='Uploaded Succesfully')
		        	$('#picSrc').attr("src",response.filePath);
		    },
		    error: function() {
		    	 $('#uploadMsg').html('Upload Failed!');
		    }
		});	
	})
	
</script>
</body>
</html>
